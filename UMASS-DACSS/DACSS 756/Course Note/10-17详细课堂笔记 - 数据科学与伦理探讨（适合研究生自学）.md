### 详细课堂笔记 - 数据科学与伦理探讨（适合研究生自学）

---

### 1. **课程安排与任务公告**
   - **作业截止日期调整**：作业2的截止日期延后至10月25日，目的是帮助学生深入理解作业反馈。数据分析核心任务的截止日期推迟至11月1日，以平衡任务负担。
   - **任务2的数据集选择**：任务2要求使用“Malawi”供应商数据集。
   - **模型调优说明**：
     - **逻辑回归**：逻辑回归为参数模型，不需要像K近邻（KNN）算法一样调优。其模型参数（即回归系数）通过最大化似然函数得到，而非调节超参数。
     - **KNN的调优**：KNN属于基于实例的非参数模型，需调节“邻居数” $k$ 来优化模型表现。过小的 $k$ 值可能导致过拟合，而过大的 $k$ 则会导致欠拟合。
     - **交叉验证**：采用交叉验证评估模型的泛化性能，以减少模型在测试集上的偏差，最终选取在验证集上表现最佳的模型，并在测试集上进一步评估。

---

### 2. **机器学习方法与数据处理**

#### 2.1 逻辑回归 (Logistic Regression)
   - **逻辑回归模型简介**：
     逻辑回归是一种广泛用于二分类问题的线性模型扩展。其基本思想是利用线性回归模型的输出，通过逻辑函数（sigmoid function）将结果映射到 [0,1] 区间作为概率值，从而得到分类结果。
   
   - **逻辑回归模型的数学表达**：
     设输入特征 $X = (x_1, x_2, \ldots, x_n)$，目标是预测二分类标签 $Y \in \{0, 1\}$。假设模型的预测值为 $\hat{y} = P(Y=1|X)$，则预测值可表示为：
     
     $$
     \hat{y} = \sigma(z) = \frac{1}{1 + e^{-z}}
     $$

     其中 $z$ 是线性组合：
     
     $$
     z = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \dots + \beta_n x_n
     $$

   - **推导：最大化对数似然函数**：
     逻辑回归通过最大化似然函数来估计参数。设训练数据为 $\{(x^{(i)}, y^{(i)})\}_{i=1}^m$，其中 $y^{(i)} \in \{0, 1\}$。逻辑回归的对数似然函数 $L(\beta)$ 为：
     
     $$
     L(\beta) = \sum_{i=1}^m \left( y^{(i)} \log(\sigma(z^{(i)})) + (1 - y^{(i)}) \log(1 - \sigma(z^{(i)})) \right)
     $$

     通过最大化 $L(\beta)$ 求得最优参数 $\beta$，通常采用梯度下降法或牛顿法等数值优化算法进行求解。

#### 2.2 K近邻算法 (K-Nearest Neighbors, KNN)
   - **算法原理**：KNN是一种基于实例的非参数算法。它通过计算测试点与训练集中各数据点的距离来预测新数据的分类。
   - **距离度量公式**：在常用的欧氏空间中，两数据点 $x = (x_1, x_2, \dots, x_n)$ 和 $x' = (x_1', x_2', \dots, x_n')$ 之间的距离可表示为：

     $$
     d(x, x') = \sqrt{\sum_{i=1}^n (x_i - x'_i)^2}
     $$

   - **调优**：KNN的超参数是邻居数 $k$。小的 $k$ 值（例如 $k=1$）可能导致模型过拟合，因为分类结果依赖于最邻近的点；而较大的 $k$ 值可能导致欠拟合，使模型表现过于平滑。

#### 2.3 缺失值处理
   - **删除法**：当缺失值较多或变量重要性较低时，通常可以考虑直接删除。
   - **插补法**：对于关键性变量或缺失值较少的变量，可使用插补法，如均值填补、众数填补等。此类方法的选择需考虑对数据统计特征的影响。
   - **选择依据**：删除或填补的依据取决于变量的重要性及其对结果的潜在影响，注意填补后数据分布可能产生的偏移。

#### 2.4 主成分分析 (Principal Component Analysis, PCA) 与 聚类 (Clustering)
   - **PCA的目标**：PCA是一种无监督降维方法，目的是通过将高维数据映射到低维空间来捕获数据中方差最大的方向。它常用于特征选择和数据可视化。
   - **PCA的数学推导**：
     给定数据矩阵 $X \in \mathbb{R}^{m \times n}$，$m$ 表示样本数，$n$ 表示特征数。首先将 $X$ 进行标准化（去中心化），然后计算协方差矩阵 $S$：

     $$
     S = \frac{1}{m-1} X^T X
     $$

     接下来求协方差矩阵 $S$ 的特征值和特征向量。选取最大的 $k$ 个特征值对应的特征向量，组成主成分矩阵 $W$。
   - **PCA的降维公式**：将数据 $X$ 投影到主成分矩阵 $W$ 上：

     $$
     Z = X W
     $$

     其中 $W$ 是包含前 $k$ 个主成分的矩阵，$Z$ 是降维后的数据表示。

   - **K-Means 聚类**：
     - **算法目标**：K-Means是一种无监督聚类算法，其目标是将数据分成 $k$ 个簇，通过最小化簇内平方误差（SSE）来优化簇分配。
     - **目标函数**：

       $$
       J = \sum_{j=1}^{k} \sum_{i=1}^{n} || x_i^{(j)} - \mu_j ||^2
       $$

       其中 $x_i^{(j)}$ 表示属于第 $j$ 个簇的第 $i$ 个数据点，$\mu_j$ 为第 $j$ 个簇的质心。通过不断调整质心位置，逐步优化目标函数直到收敛。

---

### 3. **数据科学的伦理讨论**

#### 3.1 “用数据做好事”的含义
   - 数据科学不仅仅在于数据处理和分析，还应关注对社会的影响。负责任地使用数据，确保数据分析结果对社会产生积极影响，避免负面作用。
   - **社会科学视角**：数据科学并非仅是技术问题，它始终伴随着伦理和社会影响。数据科学家需具有社会责任感，关注数据决策对群体的影响。

#### 3.2 哲学思考中的伦理困境
   - **数据科学的“好”**：定义数据科学中的“好”不仅涉及技术和精度，还包括社会的公平和人道主义。数据科学家应避免产生负面影响，并尽可能提供积极的社会价值。
   - **机器学习中的伦理考量**：
     - **数据合法性**：保证数据来源的合法性，并在数据收集和使用过程中保护数据主体隐私。
     - **决策透明性**：公开决策过程，以增强模型的可解释性和透明性。
     - **避免偏见**：识别和减轻模型中的潜在偏见，避免算法在性别、种族等方面引入不公正的决策。

---

### 4. **Green 文章讨论：数据科学的政治性**

#### 4.1 Green的主要观点
   - Green认为数据科学具有深刻的政治性，数据科学家必须意识到自己的工作会对社会产生影响，并避免在不知不觉中支持现有的不公正体系。

#### 4.2 Green对数据科学政治性三大辩解的反驳
   1. **“我只是工程师”**：数据科学家通常认为自己仅负责技术开发，不需对工具的使用方式负责。Green认为数据科学家有责任确保其技术不会被用于对社会不利的应用。
   2. **“数据科学应保持中立”**：假设数据科学可以保持中立实际上是一种支持现状的态

度。Green指出，“中立”往往是“不作为”的表现。
   3. **“不应让完美阻碍改进”**：在渐进式改革和根本性改革之间，Green主张从根本上变革现有的社会制度，而非仅仅进行小范围改动。

#### 4.3 Green的四个实践阶段
   - **兴趣**：理解数据科学的社会影响和政治属性。
   - **反思**：对自己的数据科学工作进行伦理反思。
   - **应用**：在实际工作中实践伦理原则。
   - **实践**：通过集体努力推动系统性变革，以促进社会公平。

---

### 5. **数据科学行业与学术的伦理规范**

#### 5.1 NSF数据科学伦理宣誓
   - 包括三条核心伦理：
     1. **承认知识的有限性**：当知识或技能不足时，应寻求帮助。
     2. **尊重数据隐私**：数据主体的隐私不可轻易泄露。
     3. **意识到数据代表真实的情境**：模型结果可能会对社会产生不平等影响。

#### 5.2 数据价值与原则宣言
   - 提出12项原则，如责任、透明性、隐私保护和公平性，适用于学术研究和工业界。
   - **受众范围**：涵盖广泛，适用于企业和学术机构，强调公平、透明和社会责任。

---

### 6. **伦理实践案例：使用生成对抗网络（GANs）生成合成数据**

#### 6.1 案例背景
   - 生成对抗网络（GANs）用于生成合成数据，以保护数据主体隐私。GANs通过学习真实数据的分布来生成类似的数据，但不包含原始数据中的具体信息。

#### 6.2 合成数据的潜在风险
   - **模型坍塌风险**：若模型不断在合成数据上训练，最终可能偏离实际数据分布，失去准确性。
   - **公众信任问题**：合成数据的滥用可能影响社会对数据科学的信任。
   - **伦理挑战**：需谨慎使用合成数据，避免潜在偏见的扩散。

---

### 7. **数据科学与人文学科的交叉**

   - **人文学科的重要性**：数据科学家需要通过人文学科的反思和批判性思维来理解和反省数据科学带来的社会影响，确保分析结果的社会责任性。
   - **数据科学决策的社会影响**：通过人文学科视角，数据科学家可以更加全面地认识数据决策对社会的潜在影响，避免单纯技术导向的陷阱。

---

### 8. **后续课程内容预告**

   - **机器学习伦理探讨**：将深入讨论深度学习与生成式AI模型中的伦理问题，特别是算法偏见的识别和缓解方法。

---

### 总结
数据科学不仅仅是技术，更是一种具有深刻社会影响的学科。数据科学家需具备伦理意识，关注其工作对社会产生的潜在影响，努力确保数据科学应用不会对社会造成负面影响。