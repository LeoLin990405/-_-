### 论文《Search in a Maze》详细笔记

#### 简介

本文研究了在未知迷宫中寻找出口的最优策略，旨在设计一种路径选择方法，使得搜索者能够以最短的期望时间到达迷宫的出口。作者提出了**固定排列策略（Fixed Permutation Strategy）**，通过理论分析和数学推导证明了该策略在最坏情况下的期望路径长度不超过迷宫的总弧长。本文适合本科生理解，包括了详细的概念解析和公式推导。

---

### 1. 研究背景与问题定义

迷宫问题是一类经典的图论和搜索问题。19世纪的迷宫算法（如Tarry算法和Lucas算法）已经能够保证搜索者最终找到出口，但这些算法可能会导致重复路径，增加了总的搜索时间。本文的目标是找到一种最优策略，使搜索者在最短的期望路径长度下找到出口。

#### 问题定义

迷宫被建模为一个**有限连通图**（finite connected graph），包含：
- **入口节点** $O$：搜索者从这里出发，开始探索迷宫。
- **出口节点** $E$：搜索者的目标是找到并到达该节点。
- 其他普通节点：用编号 $1, 2, \dots, n$ 表示。
- **弧（arc）**：每条连接节点的路径称为弧或边。

#### 搜索者的限制条件
1. **局部信息**：搜索者无法提前知道迷宫的全局结构。每到达一个新节点，只能观察与该节点相连的未遍历弧。
2. **遍历策略**：每条弧有一个已知的长度，表示从一个节点到另一个节点的距离或时间。

#### 主要目标
设计一种路径选择策略，使搜索者在**期望路径最短**的情况下找到出口。这相当于最小化搜索者从 $O$ 到 $E$ 的平均路径长度，即最小化**期望路径长度** $\mathbb{E}(T)$。

---

### 2. 基本符号与数学表示

为便于分析，定义以下符号和变量：

1. **弧（arc）**：表示节点之间的路径。记弧 $a = (i, j)$ 表示连接节点 $i$ 和节点 $j$ 的路径，弧的长度为 $l_a$。

2. **总弧长** $L$：表示迷宫中所有弧的长度之和，即：
   $$
   L = \sum_{a \in M} l_a
   $$
   其中 $M$ 表示迷宫中所有弧的集合。

3. **路径长度随机变量** $T$：从入口到出口的路径长度。由于路径选择带有随机性，$T$ 是一个随机变量。

4. **期望路径长度** $\mathbb{E}(T)$：表示从入口到出口的平均路径长度，定义为：
   $$
   \mathbb{E}(T) = \sum_{T} P(T) \cdot T
   $$
   其中 $P(T)$ 是路径 $T$ 被选择的概率。本文的目标是找到一种策略，使 $\mathbb{E}(T)$ 最小。

---

### 3. 常见路径策略：正常策略（Normal Strategy）

在路径搜索问题中，一个常见的方法是**正常策略**。这是一个较为直观的策略，也可能是人们在探索未知迷宫时自然会使用的方法。

#### 正常策略的操作步骤

1. **选择未遍历弧**：当到达某个节点时，如果存在未遍历的弧，则随机选择其中一条进行前进。
2. **回溯路径**：如果该节点的所有弧都已经遍历过，则返回上一个节点，并选择上次通过的路径继续回溯。

#### 正常策略的缺点

由于正常策略依赖于随机选择，且不具备全局信息，因此容易导致路径的重复遍历，进而增加了总搜索时间。具体来说，在迷宫的复杂结构中，搜索者可能会多次经过同一条路径，从而显著增加了期望路径长度。

**数学描述**：假设迷宫的总弧长为 $L$，则正常策略下的期望路径长度 $\mathbb{E}(T_{\text{normal}})$ 可以接近 $2L$，即：
$$
\mathbb{E}(T_{\text{normal}}) \approx 2L
$$
这意味着在最坏情况下，搜索者可能会遍历迷宫中的某些弧两次，导致期望路径长度是总弧长的两倍。因此，正常策略不是最优的。

---

### 4. 提出策略：固定排列策略（Fixed Permutation Strategy）

为克服正常策略的缺点，作者提出了一种新的策略，即**固定排列策略**。该策略通过在每个节点为弧设定固定的排列顺序，确保每次到达节点时路径的选择是确定的，从而减少了重复路径的可能性。

#### 固定排列策略的操作步骤

1. **初始选择**：从入口节点 $O$ 出发，为与 $O$ 相连的所有弧设定一个随机排列（即一种固定顺序），然后沿排列中的第一条路径前进。

2. **后续选择**：每次返回到节点时，仍然按照该节点的固定排列顺序选择路径，即使该路径已被遍历过也会再次选择。

3. **新节点的排列**：当首次到达某个新的节点 $i$ 时，为与该节点相连的未遍历弧设定一个新的随机排列，并在之后的每次访问中按照此排列顺序选择路径。

#### 固定排列策略的核心思想
通过设定固定顺序，搜索者在每次访问节点时的选择是确定的，从而减少无序的重复路径。该策略类似于“深度优先搜索”的改进版，避免了在缺乏全局信息时的随机回溯。

---

### 5. 理论证明与公式推导

接下来，我们通过数学推导证明，固定排列策略在期望路径长度上优于正常策略，并且期望路径长度不超过迷宫的总弧长 $L$。

#### 引理 1：路径终止性

**引理内容**：在固定排列策略下，任意搜索轨迹在 $2m$ 步后结束，其中 $m$ 为迷宫中的弧数。这意味着每条弧都被遍历两次，且搜索者最终返回到起点。

**证明思路**：固定排列策略本质上类似于Tarry算法的遍历方法。该策略保证每条弧会被遍历两次，即在正向和反向均被覆盖一次。因此，总步数为 $2m$，搜索者最终返回起点 $O$，结束搜索。

---

#### 定理 1：期望路径长度的上界

**定理内容**：在固定排列策略下，搜索者从入口 $O$ 到出口 $E$ 的期望路径长度不超过总弧长 $L$，即：
$$
\mathbb{E}(T_{\text{fixed}}) \leq L
$$

##### 证明步骤

1. **定义轨迹与逆轨迹**：
   - 对于任意路径轨迹 $T$，定义其**逆轨迹** $T'$，即沿相反方向遍历每条弧的路径。
   - 设路径 $T$ 的长度为 $r_T$，逆轨迹 $T'$ 的长度为 $r_{T'}$。

2. **轨迹的对称性**：
   - 由于固定排列策略在每个节点的选择是随机排列的，因此从 $O$ 出发选择轨迹 $T$ 和 $T'$ 的概率相等，即：
     $$
     \Pr(T) = \Pr(T') = \frac{1}{2}
     $$

3. **路径长度的上界**：
   - 轨迹 $T$ 和其逆轨迹 $T'$ 的长度和不超过两倍的总弧长，即：
     $$
     r_T + r_{T'} \leq 2L
     $$

4. **期望路径长度**：
   - 因此，从入口到出口的期望路径长度可以表示为：
     $$
     \mathbb{E}(T_{\text{fixed}}) = \frac{r_T + r_{T'}}{2} \leq L
     $$
     这证明了采用固定排列策略后，搜索者到达出口的期望路径长度不超过迷宫的总弧长 $L$。

---

### 6. 推论与进一步结论

通过上述定理，可以得出以下推论：

1. **出口节点度数的影响**：
   - 如果出口节点 $E$ 的度数为 1，则搜索者只能通过一条路径到达 $E$，期望路径长度等于 $L$：
     $$
     \mathbb{E}(T

_{\text{fixed}}) = L
     $$
   - 若 $E$ 的度数大于1，则搜索者可能通过多条路径到达出口，因此期望路径长度会小于 $L$。

2. **弧遍历次数的期望值**：固定排列策略确保每条弧的期望遍历次数不超过1，而正常策略中某些弧的期望遍历次数可能接近2。

---

### 7. 策略改进与应用

作者提出了两种改进方法，以在实际应用中进一步减少搜索时间：

1. **忽略已完全遍历的区域**：在迷宫中，如果某区域内的所有弧都已被遍历，则该区域可以在后续路径选择中被忽略，从而减少不必要的重复路径。

2. **优选最短路径**：当固定排列策略指引沿已遍历的长路径时，如果存在其他较短的路径通向相同节点，则应优先选择较短路径，从而进一步缩短路径长度。

---

### 总结

本文通过数学推导和概率分析，提出了一种有效的迷宫搜索策略——**固定排列策略**，实现了期望搜索时间的最小化。该策略在缺乏全局信息的情况下，通过固定路径排列，减少了无序重复。其思想不仅适用于迷宫搜索问题，还可以推广到其他复杂网络中的目标搜索与路径优化。