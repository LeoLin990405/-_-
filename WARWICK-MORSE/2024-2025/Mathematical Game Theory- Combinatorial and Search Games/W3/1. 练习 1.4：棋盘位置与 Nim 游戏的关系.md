以下是《Game Theory Solutions》中练习 1.4 - 1.6 的详细推导和解释，适合本科生自学理解。每个步骤都有详细的公式推导和背景知识，力求解释清楚 Nim 游戏的核心概念和策略。

---

### 1. **练习 1.4：棋盘位置与 Nim 游戏的关系**

   - **问题描述**：在一个棋盘上，需要填充列 5 和列 6 的所有 $\text{nim}$ 值（每个位置的游戏状态），并找到一个获胜策略。当女王位于 $\text{nim}$ 值为 2 的位置时，玩家可以通过某些走法将局面转换为“失败局面”。

   - **Nim 游戏基础知识**：
     - **什么是 Nim 游戏？**
       - Nim 游戏是一种经典的组合博弈，游戏由多个堆组成，两个玩家轮流从任意一个堆中拿走任意数量的物品。
       - 谁最后拿完物品谁就获胜。
     - **Nim 和异或运算（XOR）**：
       - 在 Nim 游戏中，如果多个堆存在不同的物品数量，可以使用 **异或运算**（XOR）来计算局面的“安全性”。
       - 我们称所有堆的大小异或运算的结果为“nim-sum”：
         $$
         \text{nim-sum} = a \oplus b \oplus c \oplus \cdots
         $$
         其中 $a$、$b$、$c$ 是每个堆的物品数量。
       - **胜负判定**：
         - 若 $\text{nim-sum} = 0$，当前局面称为“失败局面”，即当前玩家无获胜策略，只能接受失败。
         - 若 $\text{nim-sum} \neq 0$，则为“安全局面”，表示当前玩家可以通过某种策略获胜。
     - **目标**：在该练习中，目标是找到一种移动方法，使女王移动到一个失败位置（即将当前局面的 $\text{nim-sum}$ 转变为 0），从而使对方进入不利局面。

   - **解题步骤**：
     1. **计算并填充表格的$\text{nim}$值**：
        - 首先，对棋盘位置进行填充，计算每个位置的 $\text{nim}$ 值，这些 $\text{nim}$ 值代表了每个位置的安全性。
        - 表格完成后，发现女王当前位于 $\text{nim}$ 值为 2 的位置，说明这是一个“安全局面”。
     2. **转换为失败局面的策略**：
        - 我们的目标是通过移动女王，将局面转换为“失败局面”。
        - 为此，需要找到一个位置，使得移动后新的 $\text{nim-sum}$ 为 0。
     3. **找到有效的移动**：
        - 观察表格后，发现若将女王移动到 $\text{nim}$ 值为 4 的位置（如第 3 行第 1 列或第 0 行第 4 列），这些位置等价于 $\ast4 + \ast4$，这是一种“失败局面”，即总的 $\text{nim-sum}$ 为 0。
        - **公式化策略**：
          - 我们可以用以下公式来表示此策略：
            $$
            \sum_{i=1}^n \text{nim}(x_i) = 0
            $$
            其中 $\text{nim}(x_i)$ 是每个位置的 $\text{nim}$ 值。若总和为 0，则局面为失败局面。
   
   - **总结**：通过调整棋盘位置的 $\text{nim}$ 值，可以将局面转换为失败局面，从而迫使对方进入不利局面，确保当前玩家的胜利。

---

### 2. **练习 1.5：多米诺骨牌与棋盘分割的 Nim 值计算**

   - **问题描述**：在棋盘上放置多米诺骨牌，会将棋盘分割为两个独立的子棋盘。目标是分析分割后的棋盘并计算其 Nim 值。

   - **棋盘分割和 Nim 值计算**：
     - **分割策略**：
       - 当棋盘被分割成两个部分时，每个子棋盘相当于一个独立的 Nim 堆。每个堆的大小可以单独计算其 $\text{nim}$ 值。
       - 假设放置多米诺骨牌后的棋盘长度为 $n$，分割后的两个子棋盘长度为 $1 \times k$ 和 $1 \times (n - k - 2)$。
       - 因此，整个棋盘的 Nim 值相当于两个 $\text{nim}$ 堆的和：
         $$
         \text{nim-sum} = \ast D_k \oplus \ast D_{n - k - 2}
         $$
         其中 $\ast D_k$ 和 $\ast D_{n - k - 2}$ 表示子棋盘的 $\text{nim}$ 值。
     - **最小排除数（mex）函数**：
       - **定义**：mex（Minimum EXcluded number）是指从一个数列中找出未出现的最小自然数。
       - **Nim 游戏中的作用**：mex 函数用于计算局面 Nim 值。若棋盘长度为 $n$ 的 $\text{nim}$ 值为 $D_n$，则递归公式如下：
         $$
         D_n = \text{mex}(\{ D_k \oplus D_{n - k - 2} \mid 0 \leq k \leq n - 2 \})
         $$
         此处的 $\text{mex}$ 表示从集合中排除最小值。
   
   - **具体计算过程**：
     - **初始条件**：当棋盘长度为 0 或 1 时，因为无任何可操作空间，因此 $\text{nim}$ 值为 0：
       $$
       D_0 = D_1 = 0
       $$
     - 利用递推公式计算更长棋盘的 $D_n$ 值：
       - $D_2 = \text{mex}(D_0 \oplus D_0) = \text{mex}(0) = 1$
       - $D_3 = \text{mex}(D_0 \oplus D_1) = \text{mex}(0) = 1$
       - $D_4 = \text{mex}(D_0 \oplus D_2, D_1 \oplus D_1) = \text{mex}(1, 0) = 2$
       - $D_5 = \text{mex}(D_0 \oplus D_3, D_1 \oplus D_2) = \text{mex}(1, 1) = 0$
       - $D_6 = \text{mex}(D_0 \oplus D_4, D_1 \oplus D_3, D_2 \oplus D_2) = \text{mex}(2, 1, 0) = 3$
     - 通过递推，得到更长棋盘的 $\text{nim}$ 值。
   
   - **观察与结果**：
     - 通过递推我们发现序列 $D_0, D_1, \dots$ 呈现周期性，周期为 34，最大值为 9。
     - 当 $n = 0, 1, 5, 9, 15$ 等时，$D_n = 0$，表示为“失败局面”。

   - **总结**：练习 1.5 展示了如何将棋盘分割成独立区域，通过计算 Nim 值来分析胜负结果。

---

### 3. **练习 1.6：棋子间隙缩小游戏与北科特游戏（Northcott's Game）**

   - **问题描述**：分析一个棋子间隙不断缩小的游戏，通过控制间隙大小找到获胜策略。
   
   - **间隙大小与 Nim 堆的关系**：
     - 在这个游戏中，棋子间隙的大小相当于一个 $\text{nim}$ 堆。
     - **缩小间隙**相当于减少 $\text{nim}$ 堆的大小，而**扩大间隙**相当于增加 $\text{nim}$ 堆的大小。
   
   - **北科特游戏的策略**：
     - **定义**：北科特游戏（Northcott's Game）是一种棋类博弈，通过调整棋子之间的间隙控制局面。
     - 在这个游戏中，若所有行的间隙大小的 $\text{nim-sum}$ 满足以下条件，则为“失败局面”：
       $$
       \sum_{i=1}^n \text{nim}(

x_i) = 0
       $$
       其中 $x_i$ 表示每一行的 $\text{nim}$ 值。

   - **具体策略推导**：
     - 棋盘的行被划分为多个 $\text{nim}$ 堆，黑方可以选择某些特定的移动来确保 $\text{nim-sum}$ 为 0。
     - 例如，观察到上方三行（8, 7, 6）的 $\text{nim}$ 值分别为 $\ast 2, \ast 3, \ast 1$，下方三行（3, 2, 1）的 $\text{nim}$ 值分别为 $\ast 2, \ast 6, \ast 4$。
     - 黑方可以通过将行 7 和行 5 的 $\ast 3$ 消去，确保剩余行形成失败局面。

   - **总结**：
     - 本练习展示了通过调整棋子间隙（即 $\text{nim}$ 堆大小）的方法，将局面转换为失败局面，从而确保黑方胜利。