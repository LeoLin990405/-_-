### 《弱欧拉网络上Gal搜索博弈理论的新方法》详细笔记

本文详细介绍了Steve Alpern在《弱欧拉网络上Gal搜索博弈理论的新方法》（"A New Approach to Gal's Theory of Search Games on Weakly Eulerian Networks"）中的关键概念、引理和定理，尤其侧重于弱欧拉网络上的搜索博弈理论。这些笔记适合本科生自学，包含了背景介绍、关键定义、详细的公式推导以及每个定理的证明步骤。

---

### 1. 引言

- **研究背景**：
  - 本文探讨了S. Gal的搜索博弈理论，尤其是“捉迷藏”问题在特定类型网络（弱欧拉网络）上的应用。
  - **搜索博弈**（Search Game）是一个**零和博弈**问题：搜索者（Searcher）试图在网络中找到藏匿者（Hider），而藏匿者则希望尽量延长被找到的时间。这类问题常被应用于安全防御、检测和搜索算法等领域。

- **关键概念**：
  - **搜索值** $V(Q, O)$：定义为搜索者找到藏匿者所需的**最小最大时间**，即在最优策略下，搜索者的最大搜索时间。搜索值是搜索博弈中的核心指标，反映了搜索者的效率。
  
- **弱欧拉网络**：
  - 如果一个网络是由若干**不相交**的欧拉网络以树状结构连接而成，则称其为**弱欧拉网络**。
  - **欧拉网络**的特点：每个节点的度数为偶数，且存在一条回路可以经过所有边一次且仅一次。弱欧拉网络是在拓扑结构上更广泛的网络类型。

- **简单可搜索性**：
  - 若网络的搜索值等于其最短覆盖路径长度的一半，则称该网络为**简单可搜索网络**。
  - 数学定义为：若 $V(Q) = \frac{\mu}{2}$，其中 $V(Q)$ 是网络 $Q$ 的搜索值，$\mu$ 是网络的最短覆盖路径长度，则称 $Q$ 为简单可搜索网络。

- **Gal的主要结论**：
  - S. Gal 证明了一个网络是简单可搜索的**充分必要条件**是它是弱欧拉网络。这个结论为网络搜索博弈提供了一个基于网络拓扑结构的判别方法。

---

### 2. 搜索密度引理和边添加引理

#### 2.1 搜索密度引理（Search Density Lemma）

- **搜索密度的定义**：
  - 搜索密度（Search Density）用于衡量搜索某个区域的效率。设有区域 $A$，其搜索密度 $\rho(A)$ 定义为藏匿者在该区域的概率 $h(A)$ 与搜索该区域所需时间 $T(A)$ 的比值，即：
    $$
    \rho(A) = \frac{h(A)}{T(A)}
    $$
    其中 $h(A)$ 表示藏匿者在区域 $A$ 的概率，$T(A)$ 表示搜索该区域所需的时间。搜索密度越高，表示该区域在单位时间内被搜索到藏匿者的可能性越高。

- **引理内容**：
  - 当搜索者面对多个搜索区域时，应优先选择**搜索密度更高**的区域。即在有限搜索时间内，优先搜索那些概率高且所需时间短的区域。
  - 具体地，假设有两个区域 $A$ 和 $B$，如果 $\rho(A) > \rho(B)$，则搜索者应先搜索 $A$，以此减少总搜索时间。

- **引理证明**：
  - 假设搜索者有两种路径选择：
    - 路径 $S$：按顺序搜索 $A$ 和 $B$；
    - 路径 $S'$：按相反顺序搜索 $B$ 和 $A$。
  - 如果 $A$ 的搜索密度高于 $B$，即 $\rho(A) > \rho(B)$，那么总搜索时间满足 $T(S, h) \geq T(S', h)$，因此应先搜索密度高的区域 $A$。
  - 通过这种优化策略，搜索者可以更快找到藏匿者，减少总搜索时间。

#### 2.2 边添加引理（Edge-Adding Lemma）

- **引理内容**：
  - 该引理研究在网络中**添加边**对搜索值的影响。假设在网络 $Q$ 中的两个节点 $x$ 和 $y$ 之间添加一条边 $a$，其长度为 $l$，则该边会对搜索值产生不同的影响：
  
    - **情形1**：若边长 $l = 0$，即节点 $x$ 和 $y$ 被合并为一个点，则搜索值保持不变。
    - **情形2**：若边长 $l \geq d_Q(x, y)$，其中 $d_Q(x, y)$ 是节点 $x$ 和 $y$ 在网络中的最短距离，则添加边后搜索值会增加。
  
  - **树的特殊情况**：
    - 如果 $Q$ 是一棵树，且在树上添加长度为 $l$ 的边 $a$ 连接两个节点 $x$ 和 $y$，则新网络 $Q'$ 的搜索值 $V(Q')$ 与原树的搜索值 $V(Q)$ 之间的关系为：
      $$
      V(Q') - V(Q) = \frac{l - d_Q(x, y)}{2}
      $$
    - 当 $l < d_Q(x, y)$ 时，搜索值会减小，即 $V(Q') < V(Q)$；
    - 当 $l \geq d_Q(x, y)$ 时，搜索值不变或增加，即 $V(Q') \geq V(Q)$。

---

### 3. 树上的搜索

#### 3.1 树的定义

- 树是一种无环的连通图，它具有唯一的根节点（通常记为 $O$），所有节点都通过唯一的路径连接到根节点。

#### 3.2 等分支密度（Equal Branch Density, EBD）策略

- 为了保证搜索效率，在树上的每个子树分配等分支密度，使得搜索密度相等。
- 假设从根节点 $O$ 到叶节点 $w$ 的路径为 $b_1, b_2, \dots, b_m$，其中 $L(b_i)$ 表示路径第 $i$ 段的长度，$\sigma(b_i)$ 表示包含 $b_i$ 的子树的长度。
- 在 EBD 策略下，叶节点 $w$ 的藏匿概率 $e(w)$ 为：
  $$
  e(w) = \frac{L(b_m)}{\mu} \prod_{i=1}^{m-1} \frac{L(\sigma(b_i))}{L(\sigma(b_i)) - L(b_i)}
  $$
  其中 $\mu$ 表示树的总长度。

#### 3.3 深度优先搜索（DFS）和随机深度优先搜索（RDF）策略

- **DFS路径**：从根节点出发，总是优先选择尚未访问的前向路径。
- **RDF策略**：RDF策略是一种混合策略，搜索者在每个节点上以相等概率随机选择未访问的路径。
  
- **均衡性**：
  - 在树结构中，EBD策略和RDF策略可以构成博弈均衡组合，即EBD分布作为藏匿策略，RDF路径作为搜索策略，可以使期望搜索时间达到最小。
  
- **期望搜索时间的推导**：
  - 若树的总长度为 $\mu$，则在 EBD 和 RDF 策略组合下，搜索者的期望搜索时间为 $\mu$。即满足：
    $T(S, e) = \mu$

---

### 4. 搜索值的上下界

- **上界构造**：
  - 对于任意网络 \( Q \)，可以通过去除所有回路构造一个与 $Q$ 等价的树 $W_1$，满足 $V(Q) \leq V(W_1)$。

- **下界构造**：
  - 可以构造一个星状树 $W_2$，使其总长度为 $\mu/2$，从而确保 $V(Q) \geq \mu / 2$。
  - 因此，搜索值的范围为：
    $$
    \frac{\mu}{2} \leq V(Q) \leq \mu
    $$
  
- **欧拉网络的搜索值**：
  - 若网络 $E$ 是欧拉网络，则其搜索值为 $V(E) = \frac{\mu}{2}$，因为欧拉网络可以被视

为一个闭环路径。

---

### 5. 弱欧拉网络

- **定义**：若网络的搜索值 $V(Q) = \frac{\mu}{2}$，则称该网络为简单可搜索网络。
  
- **Gal定理的证明**：若网络 \( Q \) 是弱欧拉网络，则 $V(Q) = \frac{\mu}{2}$。
  - **识别-剪切-删除法**：将弱欧拉网络分解为欧拉子图，将子图中所有节点合并为新的网络 $Q^*$，再剪切路径形成等价的树结构 $Q^{**}$，最终证明该网络是简单可搜索的。

---

### 6. 结论

- **推广性**：本文的方法可推广至具有方向依赖速度的网络，即在不同方向上的搜索速度不同的情况。
- **未解问题**：非弱欧拉网络的最优搜索和藏匿策略仍有复杂的未解问题，需进一步研究。

---

这些详细笔记包括了定义、公式推导和逻辑推理的每一个细节，适合本科生在自学时参考，帮助理解Gal搜索博弈理论中的关键概念和数学基础。